<svg xmlns="http://www.w3.org/2000/svg" width="945" height="531" viewBox="0 0 945 531">
  <rect width="100%" height="100%" fill="white"/>
  
  <!-- Título principal -->
  <text x="472" y="35" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="26" font-weight="bold" fill="#333">Grid Funcional – Escalado de Señales</text>
  
  <!-- Sección 1: Visualización del Grid con ECG -->
  <rect x="30" y="55" width="500" height="320" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="280" y="80" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="16" font-weight="bold" fill="#333">Ejemplo: ECG en Pantalla Nextion</text>
  
  <!-- Grid de fondo (simulando pantalla Nextion) -->
  <rect x="50" y="95" width="460" height="260" fill="#1a1a2e" stroke="#333" stroke-width="2"/>
  
  <!-- Grid lines verticales (tiempo) - cada 46px = 1 división -->
  <g stroke="#2d4a3e" stroke-width="1">
    <line x1="96" y1="95" x2="96" y2="355"/>
    <line x1="142" y1="95" x2="142" y2="355"/>
    <line x1="188" y1="95" x2="188" y2="355"/>
    <line x1="234" y1="95" x2="234" y2="355"/>
    <line x1="280" y1="95" x2="280" y2="355"/>
    <line x1="326" y1="95" x2="326" y2="355"/>
    <line x1="372" y1="95" x2="372" y2="355"/>
    <line x1="418" y1="95" x2="418" y2="355"/>
    <line x1="464" y1="95" x2="464" y2="355"/>
  </g>
  
  <!-- Grid lines horizontales (amplitud) - cada 52px = 1 división -->
  <g stroke="#2d4a3e" stroke-width="1">
    <line x1="50" y1="147" x2="510" y2="147"/>
    <line x1="50" y1="199" x2="510" y2="199"/>
    <line x1="50" y1="251" x2="510" y2="251"/>
    <line x1="50" y1="303" x2="510" y2="303"/>
  </g>
  
  <!-- Línea central (baseline) más visible -->
  <line x1="50" y1="225" x2="510" y2="225" stroke="#3d5a4e" stroke-width="1.5"/>
  
  <!-- Señal ECG (verde típico de monitor) -->
  <path d="M50,225 
           L80,225 L85,223 L90,227 L100,225
           L120,225 L125,220 L130,225
           L145,225 L150,230 L155,180 L160,270 L165,210 L170,225
           L190,225 L195,215 L210,210 L225,220 L230,225
           L260,225 L265,223 L270,227 L280,225
           L300,225 L305,220 L310,225
           L325,225 L330,230 L335,180 L340,270 L345,210 L350,225
           L370,225 L375,215 L390,210 L405,220 L410,225
           L440,225 L445,223 L450,227 L460,225
           L480,225 L485,220 L490,225 L510,225" 
        stroke="#00ff88" stroke-width="2.5" fill="none"/>
  
  <!-- Etiquetas de escala en el grid -->
  <text x="55" y="152" font-family="Arial" font-size="9" fill="#00ff88">+0.5 mV</text>
  <text x="55" y="230" font-family="Arial" font-size="9" fill="#00ff88">0 mV</text>
  <text x="55" y="308" font-family="Arial" font-size="9" fill="#00ff88">-0.5 mV</text>
  
  <!-- Marcadores de tiempo -->
  <text x="96" y="368" text-anchor="middle" font-family="Arial" font-size="8" fill="#666">200ms</text>
  <text x="188" y="368" text-anchor="middle" font-family="Arial" font-size="8" fill="#666">400ms</text>
  <text x="280" y="368" text-anchor="middle" font-family="Arial" font-size="8" fill="#666">600ms</text>
  <text x="372" y="368" text-anchor="middle" font-family="Arial" font-size="8" fill="#666">800ms</text>
  <text x="464" y="368" text-anchor="middle" font-family="Arial" font-size="8" fill="#666">1000ms</text>
  
  <!-- Sección 2: Parámetros de Escala -->
  <rect x="545" y="55" width="375" height="150" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="732" y="80" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="16" font-weight="bold" fill="#333">Parámetros de Escala</text>
  
  <!-- Tabla de escalas -->
  <rect x="560" y="95" width="345" height="22" fill="#555"/>
  <text x="620" y="111" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Parámetro</text>
  <text x="720" y="111" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Nextion (px)</text>
  <text x="835" y="111" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Real</text>
  
  <rect x="560" y="117" width="345" height="20" fill="#eee"/>
  <text x="620" y="131" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Área waveform</text>
  <text x="720" y="131" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">700 × 380 px</text>
  <text x="835" y="131" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">--</text>
  
  <rect x="560" y="137" width="345" height="20" fill="white"/>
  <text x="620" y="151" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">División horizontal</text>
  <text x="720" y="151" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">70 px/div</text>
  <text x="835" y="151" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#2980b9">200 ms/div</text>
  
  <rect x="560" y="157" width="345" height="20" fill="#eee"/>
  <text x="620" y="171" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">División vertical</text>
  <text x="720" y="171" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">76 px/div</text>
  <text x="835" y="171" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#2980b9">0.5 mV/div</text>
  
  <rect x="560" y="177" width="345" height="20" fill="white"/>
  <text x="620" y="191" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Tiempo visible</text>
  <text x="720" y="191" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">700 px</text>
  <text x="835" y="191" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#27ae60">3.5s (ECG 200Hz)</text>
  
  <!-- Sección 3: Fórmulas de Conversión -->
  <rect x="545" y="215" width="375" height="160" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="732" y="240" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="16" font-weight="bold" fill="#333">Fórmulas de Conversión</text>
  
  <!-- Fórmula ECG -->
  <rect x="560" y="255" width="345" height="50" rx="5" fill="white" stroke="#2980b9"/>
  <text x="732" y="275" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="12" fill="#333">ECG: mV → DAC (0-255):</text>
  <text x="732" y="295" text-anchor="middle" font-family="Courier New" font-size="12" font-weight="bold" fill="#333">DAC = (mV + 0.5) / 2.0 × 255</text>
  
  <!-- Fórmula Nextion -->
  <rect x="560" y="315" width="345" height="50" rx="5" fill="white" stroke="#2980b9"/>
  <text x="732" y="335" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="12" fill="#333">Nextion Waveform (automático):</text>
  <text x="732" y="355" text-anchor="middle" font-family="Courier New" font-size="12" font-weight="bold" fill="#333">px_y = (DAC / 255) × altura_px</text>
  
  <!-- Sección 4: Comparación por Señal -->
  <rect x="30" y="390" width="885" height="125" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="472" y="415" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="16" font-weight="bold" fill="#333">Escalas por Tipo de Señal</text>
  
  <!-- Tabla comparativa -->
  <rect x="50" y="430" width="845" height="22" fill="#555"/>
  <text x="130" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Señal</text>
  <text x="250" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Rango modelo</text>
  <text x="390" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">mV/div</text>
  <text x="510" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">ms/div</text>
  <text x="640" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Tiempo visible</text>
  <text x="790" y="446" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">Eventos visibles</text>
  
  <rect x="50" y="452" width="845" height="20" fill="#eee"/>
  <text x="130" y="466" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#e74c3c">ECG</text>
  <text x="250" y="466" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">-0.5 a +1.5 mV</text>
  <text x="390" y="466" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">0.5 mV/div</text>
  <text x="510" y="466" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">200 ms/div</text>
  <text x="640" y="466" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">3.5 segundos</text>
  <text x="790" y="466" text-anchor="middle" font-family="Arial" font-size="10" fill="#27ae60">3.5s/0.8s = 4 latidos</text>
  
  <rect x="50" y="472" width="845" height="20" fill="white"/>
  <text x="130" y="486" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#27ae60">EMG</text>
  <text x="250" y="486" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">-5.0 a +5.0 mV</text>
  <text x="390" y="486" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">2.5 mV/div</text>
  <text x="510" y="486" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">200 ms/div</text>
  <text x="640" y="486" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">7 segundos</text>
  <text x="790" y="486" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">7s/3s = 2 contracciones</text>
  
  <rect x="50" y="492" width="845" height="20" fill="#eee"/>
  <text x="130" y="506" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#9b59b6">PPG</text>
  <text x="250" y="506" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">800 a 1200 (AU)</text>
  <text x="390" y="506" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">100 AU/div</text>
  <text x="510" y="506" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">200 ms/div</text>
  <text x="640" y="506" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">7 segundos</text>
  <text x="790" y="506" text-anchor="middle" font-family="Arial" font-size="10" fill="#27ae60">7s/0.8s = 8-9 pulsos</text>
  
  <!-- Footer -->
  <text x="472" y="525" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="10" fill="#999">BioSimulator Pro – Sistema de Visualización con Grid Clínico</text>
</svg>
