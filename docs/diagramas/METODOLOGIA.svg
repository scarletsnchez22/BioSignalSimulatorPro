<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 520" width="1100" height="520">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#555"/>
    </marker>
  </defs>
  
  <rect width="1100" height="520" fill="#ffffff"/>
  
  <text x="550" y="28" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333" text-anchor="middle" font-style="italic">
    Metodología de Investigación - BioSignalSimulator Pro
  </text>
  
  <!-- FILA 1: FLUJO PRINCIPAL -->
  <rect x="40" y="55" width="95" height="40" rx="15" ry="15" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="87" y="72" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Revisión</text>
  <text x="87" y="83" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Bibliográfica</text>
  
  <line x1="135" y1="75" x2="160" y2="75" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="165" y="55" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="215" y="72" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Diseño</text>
  <text x="215" y="83" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Conceptual</text>
  
  <line x1="265" y1="75" x2="290" y2="75" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="295" y="55" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="345" y="72" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Selección de</text>
  <text x="345" y="83" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Componentes</text>
  
  <line x1="395" y1="75" x2="420" y2="75" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="425" y="55" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="475" y="72" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Diseño de</text>
  <text x="475" y="83" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">Subsistemas</text>
  
  <line x1="475" y1="95" x2="475" y2="125" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <!-- SUBSISTEMA 1: SOFTWARE -->
  <text x="25" y="165" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32" font-style="italic" writing-mode="tb">Subsistema Software</text>
  
  <rect x="45" y="130" width="680" height="70" rx="8" fill="none" stroke="#4CAF50" stroke-width="2" stroke-dasharray="6,3"/>
  
  <rect x="60" y="145" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="110" y="162" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Modelos</text>
  <text x="110" y="173" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Matemáticos</text>
  
  <line x1="160" y1="165" x2="185" y2="165" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="190" y="145" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="240" y="162" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Firmware ESP32</text>
  <text x="240" y="173" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">C++ Embebido</text>
  
  <line x1="290" y1="165" x2="315" y2="165" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="320" y="145" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="370" y="162" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Driver Nextion</text>
  <text x="370" y="173" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">UART</text>
  
  <line x1="420" y1="165" x2="445" y2="165" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="450" y="145" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="500" y="162" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">WebServer</text>
  <text x="500" y="173" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">WiFi + WebSocket</text>
  
  <line x1="550" y1="165" x2="575" y2="165" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="580" y="145" width="120" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="640" y="162" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">20 Condiciones</text>
  <text x="640" y="173" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Clínicas</text>
  
  <line x1="640" y1="200" x2="640" y2="225" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <!-- SUBSISTEMA 2: ELECTRÓNICA -->
  <text x="750" y="275" font-family="Arial, sans-serif" font-size="10" fill="#1565C0" font-style="italic" writing-mode="tb">Subsistema Electrónico</text>
  
  <rect x="45" y="230" width="690" height="70" rx="8" fill="none" stroke="#2196F3" stroke-width="2" stroke-dasharray="6,3"/>
  
  <rect x="605" y="245" width="110" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="660" y="262" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">DAC ESP32</text>
  <text x="660" y="273" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">8-bit, 2 kHz</text>
  
  <line x1="605" y1="265" x2="580" y2="265" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="475" y="245" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="525" y="262" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Buffer LM358</text>
  <text x="525" y="273" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Op-Amp</text>
  
  <line x1="475" y1="265" x2="450" y2="265" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="345" y="245" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="395" y="262" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Filtro RC</text>
  <text x="395" y="273" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Reconstrucción</text>
  
  <line x1="345" y1="265" x2="320" y2="265" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="215" y="245" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="265" y="262" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Multiplexor</text>
  <text x="265" y="273" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">CD4051 (3 ch)</text>
  
  <line x1="215" y1="265" x2="190" y2="265" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="85" y="245" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="135" y="262" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">PCB Diseño</text>
  <text x="135" y="273" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">EasyEDA</text>
  
  <line x1="135" y1="300" x2="135" y2="325" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <!-- SUBSISTEMA 3: MECÁNICA -->
  <text x="25" y="375" font-family="Arial, sans-serif" font-size="10" fill="#6A1B9A" font-style="italic" writing-mode="tb">Subsistema Mecánico</text>
  
  <rect x="45" y="330" width="680" height="70" rx="8" fill="none" stroke="#9C27B0" stroke-width="2" stroke-dasharray="6,3"/>
  
  <rect x="60" y="345" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="110" y="362" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Diseño CAD</text>
  <text x="110" y="373" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Carcasa PETG</text>
  
  <line x1="160" y1="365" x2="185" y2="365" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="190" y="345" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="240" y="362" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Manufactura</text>
  <text x="240" y="373" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Aditiva 3D</text>
  
  <line x1="290" y1="365" x2="315" y2="365" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="320" y="345" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="370" y="362" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Sistema de</text>
  <text x="370" y="373" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Alimentación</text>
  
  <line x1="420" y1="365" x2="445" y2="365" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="450" y="345" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="500" y="362" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Baterías 18650</text>
  <text x="500" y="373" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">IP5306 + BMS</text>
  
  <line x1="550" y1="365" x2="575" y2="365" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="580" y="345" width="120" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="640" y="362" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Conectores BNC</text>
  <text x="640" y="373" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">3 Salidas</text>
  
  <line x1="640" y1="400" x2="640" y2="425" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <!-- SUBSISTEMA 4: VALIDACIÓN -->
  <text x="750" y="475" font-family="Arial, sans-serif" font-size="10" fill="#E65100" font-style="italic" writing-mode="tb">Validación y Pruebas</text>
  
  <rect x="45" y="430" width="690" height="70" rx="8" fill="none" stroke="#FF9800" stroke-width="2" stroke-dasharray="6,3"/>
  
  <rect x="605" y="445" width="110" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="660" y="462" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Integración</text>
  <text x="660" y="473" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Subsistemas</text>
  
  <line x1="605" y1="465" x2="580" y2="465" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="475" y="445" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="525" y="462" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Validación</text>
  <text x="525" y="473" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Osciloscopio</text>
  
  <line x1="475" y1="465" x2="450" y2="465" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="345" y="445" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="395" y="462" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Validación</text>
  <text x="395" y="473" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Espectral (FFT)</text>
  
  <line x1="345" y1="465" x2="320" y2="465" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="215" y="445" width="100" height="40" rx="4" fill="#fff" stroke="#555" stroke-width="1.2"/>
  <text x="265" y="462" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Pruebas</text>
  <text x="265" y="473" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">Funcionales</text>
  
  <line x1="215" y1="465" x2="190" y2="465" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
  
  <rect x="85" y="445" width="100" height="40" rx="18" ry="18" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="135" y="462" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#2E7D32" text-anchor="middle">Prototipo</text>
  <text x="135" y="473" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#2E7D32" text-anchor="middle">Funcional</text>
</svg>
