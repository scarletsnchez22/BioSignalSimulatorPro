<svg xmlns="http://www.w3.org/2000/svg" width="945" height="531" viewBox="0 0 945 531">
  <rect width="100%" height="100%" fill="white"/>
  
  <!-- Título -->
  <text x="472" y="35" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="26" font-weight="bold" fill="#333">Cálculos Computacionales Representativos</text>
  
  <!-- Sección 1: Criterio Nyquist -->
  <rect x="30" y="55" width="440" height="200" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="250" y="80" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="18" font-weight="bold" fill="#333">Criterio de Nyquist</text>
  
  <text x="45" y="105" font-family="Comic Sans MS, cursive" font-size="13" fill="#333">Frecuencia de muestreo mínima: fs ≥ 2 × fmax</text>
  
  <!-- Tabla de frecuencias -->
  <rect x="45" y="115" width="410" height="25" fill="#555"/>
  <text x="100" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Señal</text>
  <text x="180" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">fmax</text>
  <text x="270" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">fs Nyquist ×5</text>
  <text x="370" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">fs Modelo</text>
  
  <rect x="45" y="140" width="410" height="22" fill="#e8e8e8"/>
  <text x="100" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">ECG</text>
  <text x="180" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">50 Hz</text>
  <text x="270" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">250 Hz</text>
  <text x="370" y="156" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">750 Hz ✓</text>
  
  <rect x="45" y="162" width="410" height="22" fill="white"/>
  <text x="100" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">EMG</text>
  <text x="180" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">500 Hz</text>
  <text x="270" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">2500 Hz</text>
  <text x="370" y="178" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">2000 Hz ✓</text>
  
  <rect x="45" y="184" width="410" height="22" fill="#e8e8e8"/>
  <text x="100" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">PPG</text>
  <text x="180" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">10 Hz</text>
  <text x="270" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">50 Hz</text>
  <text x="370" y="200" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">100 Hz ✓</text>
  
  <text x="250" y="235" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="12" fill="#7f8c8d">Timer maestro: 4 kHz para salida DAC</text>
  
  <!-- Sección 2: Downsampling Nextion -->
  <rect x="480" y="55" width="440" height="200" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="700" y="80" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="18" font-weight="bold" fill="#333">Downsampling para Nextion</text>
  
  <text x="495" y="105" font-family="Comic Sans MS, cursive" font-size="13" fill="#333">Downsampling respecto a Fs_timer (4 kHz)</text>
  
  <!-- Tabla downsampling -->
  <rect x="495" y="115" width="410" height="25" fill="#555"/>
  <text x="555" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Señal</text>
  <text x="645" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Fs_timer</text>
  <text x="735" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Fds</text>
  <text x="840" y="133" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Ratio</text>
  
  <rect x="495" y="140" width="410" height="22" fill="#eee"/>
  <text x="555" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">ECG</text>
  <text x="645" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">4000 Hz</text>
  <text x="735" y="156" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">200 Hz</text>
  <text x="840" y="156" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">20:1</text>
  
  <rect x="495" y="162" width="410" height="22" fill="white"/>
  <text x="555" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">EMG</text>
  <text x="645" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">4000 Hz</text>
  <text x="735" y="178" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">100 Hz</text>
  <text x="840" y="178" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">40:1</text>
  
  <rect x="495" y="184" width="410" height="22" fill="#eee"/>
  <text x="555" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">PPG</text>
  <text x="645" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">4000 Hz</text>
  <text x="735" y="200" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">100 Hz</text>
  <text x="840" y="200" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#333">40:1</text>
  
  <text x="700" y="235" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="12" fill="#7f8c8d">Ratio = Fs_timer / Fds</text>
  
  <!-- Sección 3: Escalado DAC y Nextion -->
  <rect x="30" y="270" width="885" height="120" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="472" y="295" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="18" font-weight="bold" fill="#333">Fórmulas de Escalado (modelo → DAC → voltaje)</text>
  
  <!-- ECG -->
  <rect x="50" y="310" width="270" height="65" rx="5" fill="white" stroke="#2980b9" stroke-width="1"/>
  <text x="185" y="330" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" font-weight="bold" fill="#333">ECG</text>
  <text x="185" y="350" text-anchor="middle" font-family="Courier New" font-size="12" fill="#333">DAC = (mV + 0.5) / 2.0 × 255</text>
  <text x="185" y="368" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Rango: -0.5 a +1.5 mV → 0-255</text>
  
  <!-- EMG -->
  <rect x="340" y="310" width="270" height="65" rx="5" fill="white" stroke="#2980b9" stroke-width="1"/>
  <text x="475" y="330" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" font-weight="bold" fill="#333">EMG</text>
  <text x="475" y="350" text-anchor="middle" font-family="Courier New" font-size="12" fill="#333">DAC = (mV + 5.0) / 10.0 × 255</text>
  <text x="475" y="368" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Rango: -5.0 a +5.0 mV → 0-255</text>
  
  <!-- PPG -->
  <rect x="630" y="310" width="270" height="65" rx="5" fill="white" stroke="#2980b9" stroke-width="1"/>
  <text x="765" y="330" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" font-weight="bold" fill="#333">PPG</text>
  <text x="765" y="350" text-anchor="middle" font-family="Courier New" font-size="12" fill="#333">DAC = (mV - 800) / 400 × 255</text>
  <text x="765" y="368" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Rango: 800 a 1200 mV → 0-255</text>
  
  <!-- Sección 4: Escalado Nextion -->
  <rect x="30" y="405" width="885" height="110" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
  <text x="472" y="430" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="18" font-weight="bold" fill="#333">Escalado para Waveform Nextion</text>
  
  <text x="200" y="460" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" fill="#333">Área waveform:</text>
  <text x="200" y="480" text-anchor="middle" font-family="Courier New" font-size="14" font-weight="bold" fill="#333">700 × 380 px</text>
  
  <text x="472" y="460" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" fill="#333">Fórmula general:</text>
  <text x="472" y="482" text-anchor="middle" font-family="Courier New" font-size="14" font-weight="bold" fill="#333">px = map(DAC, 0, 255, 10, 370)</text>
  
  <text x="750" y="460" text-anchor="middle" font-family="Comic Sans MS, cursive" font-size="14" fill="#333">Tiempo visible:</text>
  <text x="750" y="480" text-anchor="middle" font-family="Courier New" font-size="12" font-weight="bold" fill="#333">ECG 3.5s | EMG/PPG 7s</text>
  
  <text x="472" y="505" text-anchor="middle" font-family="Arial" font-size="11" fill="#7f8c8d">Inversión Y para que señales positivas vayan hacia arriba en pantalla</text>
</svg>
