# ğŸ“± BioSignalSimulator Pro - AplicaciÃ³n Web de VisualizaciÃ³n

## MetodologÃ­a de DiseÃ±o y Desarrollo

**VersiÃ³n:** 1.0.0  
**Revisado:** 06.01.2026  
**Documento:** PlanificaciÃ³n y DiseÃ±o Conceptual

---

## Ãndice

1. [DescripciÃ³n General](#1-descripciÃ³n-general)
2. [Objetivos del Sistema](#2-objetivos-del-sistema)
3. [Arquitectura del Sistema](#3-arquitectura-del-sistema)
4. [DiseÃ±o Conceptual](#4-diseÃ±o-conceptual)
5. [MetodologÃ­a de Desarrollo](#5-metodologÃ­a-de-desarrollo)
6. [Especificaciones TÃ©cnicas](#6-especificaciones-tÃ©cnicas)
7. [Interfaz de Usuario](#7-interfaz-de-usuario)
8. [Protocolo de ComunicaciÃ³n](#8-protocolo-de-comunicaciÃ³n)
9. [Plan de ImplementaciÃ³n](#9-plan-de-implementaciÃ³n)
10. [Casos de Uso](#10-casos-de-uso)

---

## 1. DescripciÃ³n General

### 1.1 PropÃ³sito

Desarrollar una aplicaciÃ³n web progresiva (PWA) que permita a mÃºltiples usuarios visualizar en tiempo real las seÃ±ales biomÃ©dicas generadas por el BioSimulator Pro, conectÃ¡ndose vÃ­a WiFi al ESP32 configurado como Access Point.

### 1.2 Alcance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ECOSISTEMA BIOSIMULATOR PRO                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚   â”‚   DISPOSITIVO       â”‚     WiFi AP                                       â”‚
â”‚   â”‚   BioSimulator Pro  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚   (Control fÃ­sico)  â”‚                                       â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚           â”‚
â”‚              â”‚                                                  â”‚           â”‚
â”‚              â”‚ Genera seÃ±al                                     â”‚           â”‚
â”‚              â”‚ Controla parÃ¡metros                              â”‚           â”‚
â”‚              â”‚ Display Nextion                                  â”‚           â”‚
â”‚              â–¼                                                  â”‚           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚           â”‚
â”‚   â”‚   ESP32 WiFi AP     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   WebSocket Server  â”‚      â”‚           â”‚
â”‚   â”‚   192.168.4.1       â”‚         â”‚   Puerto 81         â”‚      â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚           â”‚
â”‚                                              â”‚                  â”‚           â”‚
â”‚                                              â”‚ Streaming        â”‚           â”‚
â”‚                                              â–¼                  â”‚           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                      CLIENTES (Solo visualizaciÃ³n)                    â”‚ â”‚
â”‚   â”‚                                                                       â”‚ â”‚
â”‚   â”‚   ğŸ“± Celular 1    ğŸ“± Celular 2    ğŸ’» Laptop    ğŸ–¥ï¸ PC                 â”‚ â”‚
â”‚   â”‚   Estudiante A    Estudiante B    Profesor    Laboratorio            â”‚ â”‚
â”‚   â”‚                                                                       â”‚ â”‚
â”‚   â”‚   Funciones cliente:                                                  â”‚ â”‚
â”‚   â”‚   âœ“ Ver seÃ±al en tiempo real (streaming)                             â”‚ â”‚
â”‚   â”‚   âœ“ Zoom local (sin afectar otros)                                   â”‚ â”‚
â”‚   â”‚   âœ“ Pausar visualizaciÃ³n local                                       â”‚ â”‚
â”‚   â”‚   âœ“ Descargar datos CSV                                              â”‚ â”‚
â”‚   â”‚   âœ“ Capturar screenshots                                             â”‚ â”‚
â”‚   â”‚   âœ— NO puede controlar el dispositivo                                â”‚ â”‚
â”‚   â”‚                                                                       â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Objetivos del Sistema

### 2.1 Objetivo General

Permitir que mÃºltiples estudiantes visualicen simultÃ¡neamente las seÃ±ales biomÃ©dicas en sus dispositivos personales (celulares, tablets, laptops) mientras el instructor controla la simulaciÃ³n desde el dispositivo fÃ­sico.

### 2.2 Objetivos EspecÃ­ficos

| ID | Objetivo | Prioridad |
|----|----------|-----------|
| O1 | Streaming de seÃ±al en tiempo real vÃ­a WebSocket | Alta |
| O2 | VisualizaciÃ³n tipo plotter con grÃ¡ficos en canvas | Alta |
| O3 | Control local de zoom y pausa (por usuario) | Alta |
| O4 | Descarga de datos en formato CSV | Media |
| O5 | Captura de screenshots de la seÃ±al | Media |
| O6 | TransmisiÃ³n de mÃ©tricas (HR, RR, amplitudes) | Alta |
| O7 | Soporte multi-cliente (4-6 conexiones simultÃ¡neas) | Alta |
| O8 | Interfaz responsive (mÃ³vil y desktop) | Alta |

### 2.3 Restricciones

- **El control permanece en el dispositivo fÃ­sico**: Los clientes web solo visualizan
- **ESP32 como AP**: No requiere router externo, red autÃ³noma
- **LimitaciÃ³n de clientes**: MÃ¡ximo ~6 conexiones simultÃ¡neas (limitaciÃ³n ESP32)
- **Sin persistencia en servidor**: Datos solo en memoria del cliente

---

## 3. Arquitectura del Sistema

### 3.1 Diagrama de Arquitectura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ARQUITECTURA DE CAPAS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        CAPA DE PRESENTACIÃ“N                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚   index.html â”‚  â”‚   styles.css â”‚  â”‚    app.js    â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚   (PWA)      â”‚  â”‚  (responsive)â”‚  â”‚  (WebSocket) â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚                            â”‚                                           â”‚ â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚  â”‚                    â”‚  Canvas 2D    â”‚                                   â”‚ â”‚
â”‚  â”‚                    â”‚  (Plotter)    â”‚                                   â”‚ â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â”‚ WebSocket (ws://192.168.4.1:81)       â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        CAPA DE COMUNICACIÃ“N                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                    ESP32 WebSocket Server                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Puerto 81                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Broadcast a todos los clientes                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ JSON: {signal, value, metrics}                                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        CAPA DE GENERACIÃ“N                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚  ECG Model   â”‚  â”‚  EMG Model   â”‚  â”‚  PPG Model   â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  (McSharry)  â”‚  â”‚  (Fuglevand) â”‚  â”‚  (Allen)     â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Componentes del Sistema

| Componente | UbicaciÃ³n | TecnologÃ­a | FunciÃ³n |
|------------|-----------|------------|---------|
| WiFi AP | ESP32 | ESP-IDF WiFi | Red local 192.168.4.x |
| HTTP Server | ESP32 | ESPAsyncWebServer | Servir archivos HTML/CSS/JS |
| WebSocket Server | ESP32 | AsyncWebSocket | Streaming datos en tiempo real |
| Web App | Cliente | HTML5 + Canvas + JS | VisualizaciÃ³n y controles locales |

---

## 4. DiseÃ±o Conceptual

### 4.1 Modelo de Datos

#### 4.1.1 Paquete de Datos (ESP32 â†’ Clientes)

```json
{
  "type": "data",
  "signal": "ECG",
  "timestamp": 1234567890,
  "value": 0.85,
  "dac": 178,
  "metrics": {
    "hr": 72,
    "rr": 833,
    "qrs": 0.12,
    "st": 0.0
  },
  "condition": "NORMAL",
  "state": "RUNNING"
}
```

#### 4.1.2 Frecuencia de TransmisiÃ³n

| SeÃ±al | Frecuencia modelo | Frecuencia WebSocket | Ratio |
|-------|-------------------|---------------------|-------|
| ECG | 750 Hz | 100 Hz | 7.5:1 |
| EMG | 2000 Hz | 100 Hz | 20:1 |
| PPG | 100 Hz | 50 Hz | 2:1 |

> **Nota:** Se aplica downsampling para reducir carga de red manteniendo visualizaciÃ³n fluida.

### 4.2 Estados del Cliente

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MÃQUINA DE ESTADOS CLIENTE                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚    â”‚ DISCONNECTED â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚          â”‚
â”‚           â”‚ WebSocket.connect()                      â”‚          â”‚
â”‚           â–¼                                    error/close      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚          â”‚
â”‚    â”‚  CONNECTING  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚          â”‚
â”‚           â”‚ onopen                                   â”‚          â”‚
â”‚           â–¼                                          â”‚          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         pause (local)            â”‚          â”‚
â”‚    â”‚   STREAMING  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚          â”‚
â”‚    â”‚  (recibiendo)â”‚                              â”‚   â”‚          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚   â”‚          â”‚
â”‚           â”‚ usuario pausa                        â”‚   â”‚          â”‚
â”‚           â–¼                                      â”‚   â”‚          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         resume (local)       â”‚   â”‚          â”‚
â”‚    â”‚    PAUSED    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚          â”‚
â”‚    â”‚ (buffer stop)â”‚                                  â”‚          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚          â”‚
â”‚           â”‚ close                                    â”‚          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. MetodologÃ­a de Desarrollo

### 5.1 Enfoque de Desarrollo

Se utilizarÃ¡ **desarrollo incremental** con entregas parciales:

| Fase | Entregable | DuraciÃ³n |
|------|------------|----------|
| 1 | WiFi AP + HTTP Server bÃ¡sico | 1 dÃ­a |
| 2 | WebSocket Server + streaming datos | 2 dÃ­as |
| 3 | Web App con plotter canvas | 2 dÃ­as |
| 4 | Controles locales (zoom, pausa) | 1 dÃ­a |
| 5 | Descarga CSV y screenshots | 1 dÃ­a |
| 6 | Pruebas y optimizaciÃ³n | 1 dÃ­a |

### 5.2 Herramientas de Desarrollo

| Herramienta | Uso |
|-------------|-----|
| PlatformIO | Desarrollo firmware ESP32 |
| VS Code | Editor de cÃ³digo |
| Chrome DevTools | Debug de Web App |
| Postman/wscat | Testing WebSocket |

### 5.3 LibrerÃ­as Requeridas (ESP32)

```ini
# platformio.ini
lib_deps =
    ESP Async WebServer
    AsyncTCP
    ArduinoJson
```

---

## 6. Especificaciones TÃ©cnicas

### 6.1 Red WiFi

| ParÃ¡metro | Valor |
|-----------|-------|
| Modo | Access Point (AP) |
| SSID | BioSimulator_Pro |
| Password | biosignal123 |
| IP Gateway | 192.168.4.1 |
| Subnet | 255.255.255.0 |
| DHCP Range | 192.168.4.2 - 192.168.4.10 |
| Max clientes | 6 |

### 6.2 Servidor Web

| ParÃ¡metro | Valor |
|-----------|-------|
| Puerto HTTP | 80 |
| Puerto WebSocket | 81 |
| Archivos servidos | index.html, app.js, styles.css |
| Almacenamiento | SPIFFS/LittleFS |

### 6.3 WebSocket

| ParÃ¡metro | Valor |
|-----------|-------|
| Protocolo | ws:// (no SSL por rendimiento) |
| Formato datos | JSON |
| Frecuencia envÃ­o | 100 Hz (10ms) |
| TamaÃ±o paquete | ~150 bytes |
| Ancho banda | ~15 KB/s por cliente |

### 6.4 Plotter Canvas

| ParÃ¡metro | Valor |
|-----------|-------|
| ResoluciÃ³n | Responsive (100% ancho) |
| Buffer puntos | 1000 muestras |
| Refresh rate | 60 FPS (requestAnimationFrame) |
| Scroll | AutomÃ¡tico (tipo osciloscopio) |

---

## 7. Interfaz de Usuario

### 7.1 Wireframe Web App

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BioSimulator Pro - Visualizador                    ğŸ“¶ Conectado   ğŸ”‹ 3.2h â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚                         SEÃ‘AL: ECG                                  â”‚   â”‚
â”‚  â”‚                      CondiciÃ³n: Normal                              â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚    â”€â”€â”€â”€â”€â”€â”€â”€/\â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€/\â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€/\â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€/\â”€â”€â”€â”€â”€â”€      â”‚   â”‚
â”‚  â”‚           /  \          /  \          /  \          /  \           â”‚   â”‚
â”‚  â”‚    â”€â”€â”€â”€â”€â”€/    \â”€â”€â”€â”€â”€â”€â”€â”€/    \â”€â”€â”€â”€â”€â”€â”€â”€/    \â”€â”€â”€â”€â”€â”€â”€â”€/    \â”€â”€â”€â”€      â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  0.2 mV/div                                              500ms/div â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ MÃ‰TRICAS             â”‚  â”‚ CONTROLES LOCALES                        â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚   â”‚
â”‚  â”‚ HR:  72 BPM          â”‚  â”‚  [ğŸ”+] [ğŸ”-]  Zoom: 100%                 â”‚   â”‚
â”‚  â”‚ RR:  833 ms          â”‚  â”‚                                          â”‚   â”‚
â”‚  â”‚ QRS: 0.12 s          â”‚  â”‚  [â¸ Pausar]  [â–¶ Reanudar]               â”‚   â”‚
â”‚  â”‚ ST:  0.0 mV          â”‚  â”‚                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  [ğŸ“¥ Descargar CSV]  [ğŸ“· Screenshot]     â”‚   â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  Estado: â— Transmitiendo desde dispositivo                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Wireframe MÃ³vil (Responsive)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BioSimulator    ğŸ“¶ â— 3.2h â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   ECG - Normal        â”‚ â”‚
â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚  â”€â”€/\â”€â”€â”€â”€â”€â”€/\â”€â”€â”€â”€â”€â”€/\ â”‚ â”‚
â”‚ â”‚   /  \    /  \    /  \â”‚ â”‚
â”‚ â”‚  /    \â”€â”€/    \â”€â”€/    â”‚ â”‚
â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚ 0.2mV/div    500ms/divâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚
â”‚ HR: 72    RR: 833         â”‚
â”‚ QRS: 0.12 ST: 0.0         â”‚
â”‚                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”+ â”‚ â”‚ ğŸ”- â”‚ â”‚  â¸   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“¥ CSV  â”‚ â”‚ ğŸ“· Capturaâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚
â”‚ â— Transmitiendo...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 Funcionalidades de UI

| FunciÃ³n | DescripciÃ³n | Alcance |
|---------|-------------|---------|
| **Zoom +/-** | Escala vertical del grÃ¡fico | Local (solo ese usuario) |
| **Pausar** | Congela visualizaciÃ³n sin desconectar | Local |
| **Reanudar** | ContinÃºa desde datos actuales | Local |
| **Descargar CSV** | Exporta buffer actual a archivo | Local |
| **Screenshot** | Captura canvas como imagen PNG | Local |

---

## 8. Protocolo de ComunicaciÃ³n

### 8.1 Flujo de ConexiÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLIENTE    â”‚                              â”‚    ESP32     â”‚
â”‚   (Browser)  â”‚                              â”‚   (Server)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                             â”‚
       â”‚  1. HTTP GET / (solicita index.html)        â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                                             â”‚
       â”‚  2. 200 OK + index.html + app.js            â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  3. WebSocket UPGRADE ws://192.168.4.1:81   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                                             â”‚
       â”‚  4. 101 Switching Protocols                 â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  5. JSON {type:"config", signal:"ECG"...}   â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  6. JSON {type:"data", value:0.85...}       â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (continuo)
       â”‚  7. JSON {type:"data", value:0.72...}       â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚         ...cada 10ms...                     â”‚
       â”‚                                             â”‚
```

### 8.2 Formato de Mensajes

#### Mensaje de ConfiguraciÃ³n (al conectar)

```json
{
  "type": "config",
  "signal": "ECG",
  "condition": "NORMAL",
  "sampleRate": 100,
  "params": {
    "hr": 75,
    "amplitude": 100,
    "noise": 5
  }
}
```

#### Mensaje de Datos (streaming)

```json
{
  "type": "data",
  "t": 1234567890,
  "v": 0.85,
  "m": {"hr": 72, "rr": 833}
}
```

> **Nota:** Formato compacto para minimizar overhead de red.

#### Mensaje de Estado (cambios)

```json
{
  "type": "state",
  "state": "PAUSED",
  "signal": "ECG",
  "condition": "TACHYCARDIA"
}
```

---

## 9. Plan de ImplementaciÃ³n

### 9.1 Estructura de Archivos

```
BioSignalSimulator Pro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.cpp              # + WiFi AP init
â”‚   â””â”€â”€ comm/
â”‚       â”œâ”€â”€ wifi_manager.cpp  # Nuevo: gestiÃ³n WiFi AP
â”‚       â”œâ”€â”€ web_server.cpp    # Nuevo: HTTP + WebSocket
â”‚       â””â”€â”€ nextion_driver.cpp
â”œâ”€â”€ data/                     # SPIFFS - archivos web
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ app.js
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ include/
â”‚   â””â”€â”€ comm/
â”‚       â”œâ”€â”€ wifi_manager.h
â”‚       â””â”€â”€ web_server.h
â””â”€â”€ docs/
    â””â”€â”€ APP_WEB_METODOLOGIA.md  # Este documento
```

### 9.2 Cronograma de ImplementaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CRONOGRAMA DE DESARROLLO                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  SEMANA 1                                                                   â”‚
â”‚  â”œâ”€â”€ DÃ­a 1-2: WiFi AP + HTTP Server                                        â”‚
â”‚  â”‚   â€¢ Configurar ESP32 como Access Point                                  â”‚
â”‚  â”‚   â€¢ Implementar servidor HTTP bÃ¡sico                                    â”‚
â”‚  â”‚   â€¢ Servir pÃ¡gina de prueba                                             â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â”œâ”€â”€ DÃ­a 3-4: WebSocket Server                                             â”‚
â”‚  â”‚   â€¢ Implementar AsyncWebSocket                                          â”‚
â”‚  â”‚   â€¢ Broadcast de datos de seÃ±al                                         â”‚
â”‚  â”‚   â€¢ Formato JSON optimizado                                             â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â””â”€â”€ DÃ­a 5-7: Web App Plotter                                              â”‚
â”‚      â€¢ Canvas 2D con scroll automÃ¡tico                                     â”‚
â”‚      â€¢ ConexiÃ³n WebSocket desde JS                                         â”‚
â”‚      â€¢ Renderizado en tiempo real                                          â”‚
â”‚                                                                             â”‚
â”‚  SEMANA 2                                                                   â”‚
â”‚  â”œâ”€â”€ DÃ­a 1-2: Controles y MÃ©tricas                                         â”‚
â”‚  â”‚   â€¢ Zoom local (sin afectar servidor)                                   â”‚
â”‚  â”‚   â€¢ Pausa local (buffer)                                                â”‚
â”‚  â”‚   â€¢ Panel de mÃ©tricas                                                   â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â”œâ”€â”€ DÃ­a 3-4: ExportaciÃ³n                                                  â”‚
â”‚  â”‚   â€¢ Descarga CSV                                                        â”‚
â”‚  â”‚   â€¢ Screenshot canvas                                                   â”‚
â”‚  â”‚   â€¢ Responsive design                                                   â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â””â”€â”€ DÃ­a 5-7: Testing y DocumentaciÃ³n                                      â”‚
â”‚      â€¢ Pruebas multi-cliente                                               â”‚
â”‚      â€¢ OptimizaciÃ³n rendimiento                                            â”‚
â”‚      â€¢ DocumentaciÃ³n final                                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. Casos de Uso

### 10.1 Caso de Uso Principal: Clase de Laboratorio

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CASO DE USO: CLASE DE LABORATORIO                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ACTORES:                                                                   â”‚
â”‚  â€¢ Profesor (controla dispositivo fÃ­sico)                                   â”‚
â”‚  â€¢ Estudiantes (visualizan en sus celulares/laptops)                        â”‚
â”‚                                                                             â”‚
â”‚  PRECONDICIONES:                                                            â”‚
â”‚  â€¢ BioSimulator Pro encendido                                               â”‚
â”‚  â€¢ Estudiantes con dispositivos con WiFi                                    â”‚
â”‚                                                                             â”‚
â”‚  FLUJO PRINCIPAL:                                                           â”‚
â”‚  1. Profesor enciende BioSimulator Pro                                      â”‚
â”‚  2. Profesor selecciona ECG â†’ Taquicardia en Nextion                        â”‚
â”‚  3. Profesor indica SSID: "BioSimulator_Pro" y pass: "biosignal123"         â”‚
â”‚  4. Estudiantes conectan WiFi en sus dispositivos                           â”‚
â”‚  5. Estudiantes abren navegador â†’ 192.168.4.1                               â”‚
â”‚  6. App web carga y muestra "Conectando..."                                 â”‚
â”‚  7. WebSocket conecta â†’ SeÃ±al aparece en pantalla                           â”‚
â”‚  8. Profesor presiona Play â†’ Todos ven la simulaciÃ³n                        â”‚
â”‚  9. Estudiante A hace zoom para ver detalle QRS                             â”‚
â”‚  10. Estudiante B pausa para analizar un latido                             â”‚
â”‚  11. Estudiante C descarga CSV para anÃ¡lisis posterior                      â”‚
â”‚  12. Profesor cambia a Bradicardia â†’ Todos ven el cambio                    â”‚
â”‚  13. Estudiante D toma screenshot de la arritmia                            â”‚
â”‚  14. Profesor detiene simulaciÃ³n â†’ App muestra "Detenido"                   â”‚
â”‚                                                                             â”‚
â”‚  POSTCONDICIONES:                                                           â”‚
â”‚  â€¢ Cada estudiante tiene sus propios datos/capturas                         â”‚
â”‚  â€¢ Dispositivo fÃ­sico mantiene control total                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 Diagrama de Secuencia

```
  Profesor        BioSimulator       ESP32 WiFi        Estudiante
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚  Selecciona     â”‚                 â”‚                  â”‚
     â”‚  Taquicardia    â”‚                 â”‚                  â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚                  â”‚
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚                 â”‚  Broadcast      â”‚                  â”‚
     â”‚                 â”‚  {condition:    â”‚                  â”‚
     â”‚                 â”‚   "TACHYCARDIA"}â”‚                  â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
     â”‚                 â”‚                 â”‚  WebSocket msg   â”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚  Presiona Play  â”‚                 â”‚                  â”‚  Actualiza UI
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚                  â”‚  "Taquicardia"
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚                 â”‚  Genera seÃ±al   â”‚                  â”‚
     â”‚                 â”‚  @750Hz         â”‚                  â”‚
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚                 â”‚  Stream @100Hz  â”‚                  â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
     â”‚                 â”‚                 â”‚  {v:0.85,hr:120} â”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                 â”‚                  â”‚  Dibuja punto
     â”‚                 â”‚                 â”‚                  â”‚
     â”‚                 â”‚                 â”‚                  â”‚  Zoom local
     â”‚                 â”‚                 â”‚â—„ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚ (no afecta)
     â”‚                 â”‚                 â”‚                  â”‚
```

---

## Resumen

Esta metodologÃ­a define el desarrollo de una **aplicaciÃ³n web progresiva** que permite visualizaciÃ³n distribuida de seÃ±ales biomÃ©dicas en tiempo real. La arquitectura **ESP32 como Access Point + WebSocket Server** permite hasta 6 conexiones simultÃ¡neas sin depender de infraestructura externa.

**CaracterÃ­sticas clave:**
- Streaming en tiempo real a 100 Hz
- Control local independiente (zoom, pausa) por usuario
- ExportaciÃ³n de datos CSV y screenshots
- Interfaz responsive para mÃ³vil y desktop
- Sin necesidad de internet (red local autÃ³noma)

---

*Documento BioSignalSimulator Pro*  
*Revisado: 06.01.2026*
*18 de Diciembre de 2025*
